<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Optimizador de Cortes - SurMaderas</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        label, input { display: block; margin: 8px 0; }
        .corte { margin-bottom: 4px; }
    </style>
    </head>
    <body>
    <h1>Optimizador de Cortes</h1>

    <h2>Medida de la placa (en metros)</h2>
    <label>Ancho (m):
        <input type="number" step="0.01" id="placaAncho" oninput="actualizarMedidaPlaca(); mostrarResumen();"></label>
    <label>Alto (m): <input type="number" step="0.01" id="placaAlto"  oninput="actualizarMedidaPlaca(); mostrarResumen();" ></label>

    <h2>Agregar corte (en cent칤metros)</h2>
    <label>Ancho (cm): <input type="number" id="corteAncho"></label>
    <label>Alto (cm): <input type="number" id="corteAlto"></label>
    <button onclick="agregarCorte()">Agregar corte</button>

    <h2>Cortes cargados</h2>
    <ul id="listaCortes"></ul>

    <button onclick="mostrarResumen()">Verificar si entran los cortes</button>

    <h2>Resumen</h2>
    <p id="resumen"></p>


    <script>
        const cortes = [];
        let placa = { ancho: 0, alto: 0 };

        function actualizarMedidaPlaca() {
        const anchoM = parseFloat(document.getElementById('placaAncho').value);
        const altoM = parseFloat(document.getElementById('placaAlto').value);

        if (!isNaN(anchoM) && !isNaN(altoM) && anchoM > 0 && altoM > 0) {
            placa.ancho = anchoM * 1000; // metros a mil칤metros
            placa.alto = altoM * 1000;
        }
        }

        function agregarCorte() {
        actualizarMedidaPlaca();

        const anchoCm = parseFloat(document.getElementById('corteAncho').value);
        const altoCm = parseFloat(document.getElementById('corteAlto').value);

        if (isNaN(anchoCm) || isNaN(altoCm) || anchoCm <= 0 || altoCm <= 0) {
            alert('Por favor ingres치 medidas v치lidas para el corte');
            return;
        }

        const corte = {
            ancho: anchoCm * 10, // cent칤metros a mil칤metros
            alto: altoCm * 10
        };

        cortes.push(corte);
        mostrarCortes();

        document.getElementById('corteAncho').value = '';
        document.getElementById('corteAlto').value = '';
        }

        function mostrarCortes() {
        const lista = document.getElementById('listaCortes');
        lista.innerHTML = '';
        cortes.forEach((corte, i) => {
            const li = document.createElement('li');
            li.textContent = `Corte ${i + 1}: ${corte.ancho} mm x ${corte.alto} mm`;
            lista.appendChild(li);
        });
        }

        mostrarResumen();
    

    function mostrarResumen() {
        actualizarMedidaPlaca();
        const resumen = document.getElementById('resumen');

        if (placa.ancho === 0 || placa.alto === 0) {
        resumen.textContent = "Ingres치 la medida de la placa para calcular.";
        return;
        }

        if (cortes.length === 0) {
        resumen.textContent = "Todav칤a no cargaste ning칰n corte.";
        return;
        }

        const areaPlaca = placa.ancho * placa.alto;
        let areaCortes = 0;

        cortes.forEach(corte => {
        areaCortes += corte.ancho * corte.alto;
        });

        const porcentaje = ((areaCortes / areaPlaca) * 100).toFixed(2);

        if (areaCortes <= areaPlaca) {
        resumen.textContent = `游릭 Los cortes ocupan ${porcentaje}% del 치rea de la placa. Entran.`;
        } else {
        resumen.textContent = `游댮 Los cortes ocupan ${porcentaje}% del 치rea de la placa. No entran.`;
        }
    }
    </script>
</body>
</html>
